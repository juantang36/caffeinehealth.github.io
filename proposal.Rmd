---
title: "Project Proposal"
date: "2025-11-06"
output: 
  html_document:
    theme: flatly
    toc: true
    toc_float: true
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)  # This ensure there is no chunk show on web page
```

```{r}
library(tidyverse)
library(haven)
library(DiagrammeR)
```

### The group members (names and UNIs)
Disheng Jiang (dj2763), Yurou Liu (yl6109), Ruhui Shen (rs4788), Juan Tang (jt3649)

### The tentative project title
Exploring whether coffee is beneficial or harmful to human health by using the NHANES datasets from the CDC.

### The motivation for this project
Coffee, as one of the most popular beverages in the world, is highly favored by people. Since the caffeine in coffee has a regulatory effect on the central nervous system(Herqutanto et al., 2024), coffee is widely consumed for alertness. However, yet evidence on benefits and side effects (e.g., sleep disturbance, blood pressure) is mixed. 

The National Health and Nutrition Examination Survey (NHANES) is uniquely well-suited for this study. NHANES contains nationally representative sampling with detailed, standardized measurements that are directly relevant to caffeine. It also contains clinically measured outcomes like blood pressure, pulse and BMI, meanwhile providing rich covariates such as age, sex, physical activity, and socioeconomic markers. By utilizing the abundant raw data, we can learn about the effect of coffee on human health and dose-response patterns through data analysis and draw transparent and reproducible public health inferences.

### The intended final products
```{r}

grViz("
digraph {

  graph [rankdir = LR]

  node [shape = box, style = filled, fillcolor = '#e8f0fe']

  # Define nodes
  A [label='1. Construct a harmonized\nanalytic dataset']
  B [label='2. Identify coffee-derived\nexposures']
  C [label='3. Estimate dose–response']
  D [label='4. Conduct subgroup and\nsensitivity analyses']
  E [label='5. Generate visualizations\nand summaries']
  F [label='6. Provide written\ninterpretation']

  # First row
  { rank = same; A; B; C }

  # Second row
  { rank = same; F; E; D }

  # Flow direction (top row)
  A -> B -> C

  # Flow direction (bottom row)
  D -> E -> F

  # Downward connection and upward return
  C -> D
}
")

```

The aim of these efforts is to generate a transparent, reproducible empirical dataset that can be employed to address the question of whether being a coffee drinker has beneficial, adverse, or null effects on human health. From NHANES dietary recall data, individual food item files, measures from the covariate, and physiologic examination files we will create a harmonized dataset that includes coding for both coffee consumption (as reported relevant to MARCA) and MAIC-derived caffeine (>80% in mg including all foods containing it), while separating coffee's caffeine intake through the food codes or nutrient intakes. We will estimate dose–response relationships with standard drinks of caffeine in relation to SBP and DBP, resting pulse rate, BMI and sleep duration or daytime sleepiness (both self-report), depressive symptoms. We also will conduct additional subgroup and sensitivity analyses (e.g., analysis of different levels of caffeine consumption, stratification by age, sex and physical activity, use of FDA guidance thresholds closer to 400 mg/day) to assess the extent to which any associations observed vary across subpopulations. The final products will be a well-documented analytic data set, reproducible code for all data manipulation and analysis steps, graphical representations and summary tables that demonstrate patterns of consumption and relationships with outcomes, and a brief written interpretation stating whether caffeine intake seems to have beneficial, neutral or adverse effects on health considering uncertainties, limitations.

### The anticipated data sources
The project will use publicly available data from the 2021-2023 National Health and Nutrition Examination Survey (NHANES), maintained by the Centers for Disease Control and Prevention (CDC).

We will combine multiple datasets that recall participants’ demographic information, physical and laboratory examination results, and their dietary intake of coffee.

The demographic file (DEMO_L.xpt) provides key covariates such as age, sex, and socioeconomic indicators. Health outcome data will be drawn from physical examination and laboratory files. 

Physical examination datasets including BMX_L.xpt (Body Measures) and BPXO_L.xpt (Blood Pressure) will supply directly measured anthropometric and cardiovascular indicators such as BMI, and systolic/diastolic blood pressure.

Lab reports measure metabolic, cardiovascular, and inflammatory biomarkers, including fasting glucose (GLU_L.xpt), insulin (INS_L.xpt), glycohemoglobin (GHB_L.xpt), cholesterol and triglycerides (TCHOL_L.xpt, HDL_L.xpt, TRIGLY_L.xpt), high-sensitivity C-reactive protein (HSCRP_L.xpt), and kidney and liver function markers (ALB_CR_L.xpt, BIOPRO_L.xpt). These datasets will be merged by participant ID (SEQN) and linked with dietary recall data capturing caffeine and coffee intake. 

There is also self-reported sleep disorder (SLQ_L.xpt) dataset which we will use to analyze the effect of coffee intake. 

Through statistical modeling and visualization, this combined dataset will allow assessment of potential health effects associated with coffee consumption.

### The planned analysis / visualizations / coding challenges

### The planned timeline
```{r, echo = FALSE}
timeline = tibble(
  date = c(
    "11/7",
    "11/8–11/12",
    "11/12–11/16",
    "11/15–11/16",
    "11/16–11/19",
    "11/19–11/20",
    "11/21–11/26",
    "11/26–12/1",
    "12/2–12/3",
    "12/3–12/6"
  ),
  work = c(
    "Determine project topic, find data source, complete the proposal",
    "Zoom meeting: determine final datasets and how to analyze data",
    "Complete final source collection",
    "Zoom meeting: determine detailed division of work",
    "Clean and tidy data",
    "Zoom meeting: design website structure",
    "Plot graphs and analyze data",
    "Complete report with visualizations and interpretations",
    "Proofread report",
    "Final webpage improvement and screencast"
  )
)

timeline |>
  knitr::kable(
    caption = "Project Timeline",
    align = c("c", "l")
  )
```

