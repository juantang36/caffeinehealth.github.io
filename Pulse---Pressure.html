<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Pulse &amp; Pressure</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="proposal.html">Proposal</a>
</li>
<li>
  <a href="https://github.com/juantang36/caffeinehealth.github.io.git">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Pulse &amp; Pressure</h1>

</div>


<div id="blood-pressure-violin-boxplots" class="section level2">
<h2>1. Blood Pressure Violin + Boxplots</h2>
<pre class="r"><code>bp_long &lt;- bp_sleep_df |&gt;
  select(seqn, coffee_group, sbp, dbp) |&gt;
  pivot_longer(cols = c(sbp, dbp),
               names_to = &quot;bp_type&quot;,
               values_to = &quot;bp_value&quot;) |&gt;
  mutate(
    bp_type = factor(
      bp_type,
      levels = c(&quot;sbp&quot;, &quot;dbp&quot;),
      labels = c(&quot;Systolic BP&quot;, &quot;Diastolic BP&quot;)
    )
  )

gg_bp_violin &lt;- ggplot(bp_long,
                       aes(x = coffee_group,
                           y = bp_value,
                           fill = coffee_group)) +
  geom_violin(alpha = 0.4, trim = FALSE) +
  geom_boxplot(width = 0.18, outlier.size = 0.5) +
  facet_wrap(~ bp_type, scales = &quot;free_y&quot;) +
  labs(x = NULL, y = &quot;Blood pressure (mmHg)&quot;,
       title = &quot;Blood pressure by coffee habit&quot;) +
  theme_minimal(base_size = 13) +
  theme(legend.position = &quot;none&quot;)
gg_bp_violin</code></pre>
<pre><code>## Warning: Removed 8830 rows containing non-finite outside the scale range
## (`stat_ydensity()`).</code></pre>
<pre><code>## Warning: Removed 8830 rows containing non-finite outside the scale range
## (`stat_boxplot()`).</code></pre>
<p><img src="Pulse---Pressure_files/figure-html/unnamed-chunk-3-1.png" width="672" />
The distributions of systolic and diastolic blood pressure among groups
that consumed coffee are shown in this figure. Violin shapes show the
whole density and range of values, and integrated boxplots make it easy
to compare medians and interquartile ranges. There are just little
changes between the groups; for example, those who regularly drink
coffee had somewhat higher systolic readings. It seems that missingness
is not systematic, as the NA group exhibits behavior that is consistent
with the other categories. Potential, however modest, correlations
between blood pressure and regular coffee use are efficiently brought to
light by this depiction.</p>
</div>
<div id="mean-bp-with-95-ci-line-plot" class="section level2">
<h2>2. Mean BP with 95% CI Line Plot</h2>
<pre class="r"><code>bp_summary &lt;- bp_sleep_df |&gt;
  group_by(coffee_group) |&gt;
  summarise(
    mean_sbp = mean(sbp, na.rm = TRUE),
    se_sbp   = sd(sbp, na.rm = TRUE) / sqrt(sum(!is.na(sbp))),
    mean_dbp = mean(dbp, na.rm = TRUE),
    se_dbp   = sd(dbp, na.rm = TRUE) / sqrt(sum(!is.na(dbp)))
  ) |&gt;
  pivot_longer(
    cols = -coffee_group,
    names_to = c(&quot;metric&quot;, &quot;bp_type&quot;),
    names_sep = &quot;_&quot;
  ) |&gt;
  pivot_wider(
    names_from = metric,
    values_from = value
  ) |&gt;
  mutate(
    bp_type = factor(
      bp_type,
      levels = c(&quot;sbp&quot;, &quot;dbp&quot;),
      labels = c(&quot;Systolic BP&quot;, &quot;Diastolic BP&quot;)
    )
  )

gg_bp_mean_line &lt;- 
  ggplot(bp_summary, aes(x = coffee_group, y = mean, color = bp_type, group = bp_type)) +
  geom_point(size = 3) +
  geom_line(linewidth = 1) +
  geom_errorbar(aes(ymin = mean - 1.96 * se, ymax = mean + 1.96 * se), width = 0.1) +
  labs(x = NULL, y = &quot;Mean BP (mmHg)&quot;,
       color = NULL,
       title = &quot;Mean Systolic &amp; Diastolic BP by coffee habit&quot;) +
  theme_minimal(base_size = 13)
gg_bp_mean_line</code></pre>
<p><img src="Pulse---Pressure_files/figure-html/unnamed-chunk-4-1.png" width="672" />
Displayed here with 95% confidence intervals are the mean diastolic and
systolic blood pressure readings for the whole cohort. The group that
regularly drinks coffee had somewhat higher systolic blood pressure than
the group that does not, but there is no change in diastolic blood
pressure. Since the confidence intervals for different groups overlap,
itâ€™s possible that the observed changes in means may not reflect
significant impacts. In addition to the distributions given for
individuals, this graphic gives a clear picture of the population as a
whole.</p>
</div>
<div id="pulse-ridgeline-plot" class="section level2">
<h2>3. Pulse Ridgeline Plot</h2>
<pre class="r"><code>gg_pulse_ridge &lt;- 
  ggplot(bp_sleep_df, aes(x = pulse, y = coffee_group, fill = coffee_group)) +
  geom_density_ridges(alpha = 0.5, scale = 1.1) +
  labs(x = &quot;Pulse (beats/min)&quot;, y = NULL,
       title = &quot;Pulse distribution by coffee habit&quot;) +
  theme_minimal(base_size = 13) +
  theme(legend.position = &quot;none&quot;)
gg_pulse_ridge</code></pre>
<pre><code>## Picking joint bandwidth of 2.29</code></pre>
<pre><code>## Warning: Removed 4415 rows containing non-finite outside the scale range
## (`stat_density_ridges()`).</code></pre>
<p><img src="Pulse---Pressure_files/figure-html/unnamed-chunk-5-1.png" width="672" />
The ridgeline density plot visualizes pulse-rate distributions across
coffee habits. While the overall shapes are similar, the coffee-habit
group appears to trend slightly higher in pulse rate, though the overlap
between groups is substantial. This plot effectively demonstrates
distributional differences without relying on summary statistics and
provides an intuitive sense of how pulse varies across the cohort.</p>
</div>
<div id="average-sleep-duration-violin-plot" class="section level2">
<h2>4.Average Sleep Duration Violin Plot</h2>
<pre class="r"><code>gg_sleep_violin &lt;- 
  ggplot(bp_sleep_df, aes(x = coffee_group, y = sleep_avg, fill = coffee_group)) +
  geom_violin(alpha = 0.4, trim = FALSE) +
  geom_boxplot(width = 0.18, outlier.size = 0.5) +
  labs(x = NULL, y = &quot;Average sleep duration (hours)&quot;,
       title = &quot;Average sleep time by coffee habit&quot;) +
  theme_minimal(base_size = 13) +
  theme(legend.position = &quot;none&quot;)
gg_sleep_violin</code></pre>
<pre><code>## Warning: Removed 3574 rows containing non-finite outside the scale range
## (`stat_ydensity()`).</code></pre>
<pre><code>## Warning: Removed 3574 rows containing non-finite outside the scale range
## (`stat_boxplot()`).</code></pre>
<p><img src="Pulse---Pressure_files/figure-html/unnamed-chunk-6-1.png" width="672" />
This visualization shows the distribution of average daily sleep time
across coffee-consumption categories. The central tendencies differ only
slightly, with coffee-habit individuals sleeping marginally less on
average. The overall shape and spread are similar across categories,
suggesting that habitual coffee intake is not strongly related to
average sleep duration. The combination of violin and boxplot elements
provides both distributional context and robust summary measures.</p>
</div>
<div id="weekday-vs-weekend-paired-sleep-plot" class="section level2">
<h2>5. Weekday vs Weekend Paired Sleep Plot</h2>
<pre class="r"><code>sleep_long &lt;- bp_sleep_df |&gt;
  select(seqn, coffee_group, sleep_weekday, sleep_weekend) |&gt;
  pivot_longer(
    cols = c(sleep_weekday, sleep_weekend),
    names_to = &quot;day_type&quot;,
    values_to = &quot;sleep_hours&quot;
  ) |&gt;
  mutate(
    day_type = factor(
      day_type,
      levels = c(&quot;sleep_weekday&quot;, &quot;sleep_weekend&quot;),
      labels = c(&quot;Weekday&quot;, &quot;Weekend&quot;)
    )
  )

gg_sleep_paired &lt;- 
  ggplot(sleep_long, aes(x = day_type, y = sleep_hours, group = seqn)) +
  geom_line(alpha = 0.12) + 
  stat_summary(fun = mean, geom = &quot;line&quot;, aes(group = 1), linewidth = 1.2, color = &quot;black&quot;) +
  stat_summary(fun = mean, geom = &quot;point&quot;, size = 3, color = &quot;black&quot;) +
  facet_wrap(~ coffee_group) +
  labs(x = NULL, y = &quot;Sleep duration (hours)&quot;,
       title = &quot;Weekday vs weekend sleep by coffee habit&quot;) +
  theme_minimal(base_size = 13)
gg_sleep_paired</code></pre>
<pre><code>## Warning: Removed 7091 rows containing non-finite outside the scale range
## (`stat_summary()`).
## Removed 7091 rows containing non-finite outside the scale range
## (`stat_summary()`).</code></pre>
<pre><code>## Warning: Removed 7091 rows containing missing values or values outside the scale range
## (`geom_line()`).</code></pre>
<p><img src="Pulse---Pressure_files/figure-html/unnamed-chunk-7-1.png" width="672" />
Individual differences in sleep duration on weekdays and weekends are
shown by this paired-line plot. People in every coffee group get more
shut-eye on weekends, and the size of the difference between weekday and
weekend sleep is about the same. Individual variability is shown by the
dense cluster of light gray lines, while the group-average pattern is
captured by the overlay black summary line. This graph shows that the
difference in sleep between the weekdays and weekends is unaffected by
coffee use.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
